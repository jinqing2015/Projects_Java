package cn.bh.Test.MultiThread;

public class DrawThread extends Thread{
	
	private Account account;
	private int drawAmount;
	
	public DrawThread(String name, Account ac, int number){
		super(name);
		this.account = ac;
		this.drawAmount = number;
	}
	
	@Override
	public void run() {
		synchronized(account){
		if(account.getBalance() >= drawAmount){
			
			System.out.println(Thread.currentThread().getName() + "取钱成功" + drawAmount);
			/*
			try {
				Thread.sleep(1);
			} catch (InterruptedException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			*/
			account.setBalance(account.getBalance() - drawAmount);
			System.out.println(Thread.currentThread().getName() + "余额为" + account.getBalance());
		}else{
			System.out.println(Thread.currentThread().getName() + "余额不足" + drawAmount);
		}
		
	}
	
	public static void main(String args[]){
		
		Account ac = new Account();
		ac.setAccountNo("Hello");
		ac.setBalance(1000);
		
		DrawThread dt1 = new DrawThread("客户1", ac, 600);
		DrawThread dt2 = new DrawThread("客户2", ac, 600);
		
		dt1.start();
		dt2.start();
	}
	
	
}
