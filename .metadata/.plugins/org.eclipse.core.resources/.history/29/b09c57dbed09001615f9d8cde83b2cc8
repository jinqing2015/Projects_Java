package cn.bh.Test;

import java.nio.file.FileSystems;
import java.nio.file.Paths;
import java.nio.file.StandardWatchEventKinds;
import java.nio.file.WatchEvent;
import java.nio.file.WatchKey;
import java.nio.file.WatchService;

public class WatchServiceTest {

	public static void main(String args[])
		throws Exception
	{
		WatchService watcher = FileSystems.getDefault().newWatchService();
		Paths.get("c:/").register(watcher 
				, StandardWatchEventKinds.ENTRY_CREATE
				, StandardWatchEventKinds.ENTRY_DELETE
				,StandardWatchEventKinds.ENTRY_MODIFY);
		while(true){
			WatchKey key = watcher.take();
			for(WatchEvent<?> event : key.pollEvents()){
				System.out.println(event.context() + "文件--" + event.kind()+"时间");
			}
		}
		
	}
}
